module.exports = function (grunt) {
    grunt.initConfig({
        pkg: grunt.file.readJSON('package.json'),
        less: {
            intecmedia: {
                options: {
                    banner: '/*! Generated by Grunt-Contrib-LESS: <%= grunt.template.today("isoDateTime") %> | css/style.less */\r\n',
                    strictMath: true,
                    compress: true,
                    cleanCss: true
                },
                files: {
                    'css/style.min.css': 'css/style.less'
                }
            }
        },
        browserSync: {
            dev: {
                bsFiles: {
                    src : [
                        './css/*.less', './css/*.css',  './css/**/.less',   './css/**/.css',
                        './js/*.js',    './js/*.js',    './js/**/.js',      './js/**/.js',
                        './*.php',      './**/.php'
                    ]
                },
                options: {
                    watchTask: true,
                    server: './'
                }
            }
        },
        watch: {
            files: ['css/*.less', 'css/**/*.less'],
            tasks: ['less']
        }
    });

    grunt.loadNpmTasks('grunt-contrib-less');
    grunt.loadNpmTasks('grunt-contrib-watch');
    grunt.loadNpmTasks('grunt-browser-sync');

    grunt.registerTask('default', ['watch']);
    grunt.registerTask('sync', ['browserSync', 'watch']);
};
